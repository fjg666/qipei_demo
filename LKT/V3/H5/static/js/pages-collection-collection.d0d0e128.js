(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-collection-collection"],{"260f":function(t,e,i){var a=i("aef5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("59ccec3e",a,!0,{sourceMap:!1,shadowMode:!1})},"5e19":function(t,e,i){"use strict";var a=i("260f"),n=i.n(a);n.a},"60a7":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var n=a(i("f499")),l=a(i("cebc")),o=a(i("e814")),s=a(i("795b")),c=i("2f62"),d={data:function(){return{back:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/back2x.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",noCol:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/noCol.png",toImage:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",collection:[],collection1:[],state:"编辑",statevalue:!1,selectvalue:"",selectvalue1:"",selectAll:"",selectAll1:"",selectArray:[],selectArray1:[],deletecolle:{},access_id:"",quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",display_img:[],display_img1:[],flag:!0,fastTap:!0,navActive:!0,navType:1}},onLoad:function(){this.access_id=uni.getStorageSync("access_id")?uni.getStorageSync("access_id"):this.$store.state.access_id,this.navType=1,this._axios()},onShow:function(){var t=this,e=new s.default(function(e,i){t.LaiKeTuiCommon.getLKTApiUrl().then(function(){e(1231)})});e.then(function(){t.$nextTick(function(){t.$refs.lktAuthorizeComp.handleAfterAuth(t,"../login/login?landing_code=1",function(){t._axios()})})})},computed:{halfWidth:function(){var t=uni.getStorageSync("data_height")?uni.getStorageSync("data_height"):this.$store.state.data_height,e=(0,o.default)(t);return e+"px"}},methods:(0,l.default)({changeLoginStatus:function(){var t=this;t.access_id=uni.getStorageSync("access_id"),t._axios()},_goStore:function(t){console.log("shop_id---------"+(0,n.default)(t)),uni.navigateTo({url:"../../pagesA/store/store?shop_id="+t.mch_id})},_find:function(t){this.pro_id(t),uni.navigateTo({url:"discover?pro_id="+t})},_back:function(){this.flag=!1,uni.navigateBack({delta:1})},_state:function(){this.collection1.length||this.collection.length?(this.selectAll="",this.selectAll1="",this.statevalue=!this.statevalue,this.statevalue?this.state="完成":this.state="编辑"):(this.statevalue=!this.statevalue,this.statevalue?this.state="完成":this.state="编辑")},_axios:function(){var t=this,e={module:"app",action:"addFavorites",app:"collection",access_id:this.access_id,pro_id:this.pro_id,type:this.navType};uni.request({data:e,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){200==e.data.code?1==t.navType?t.collection1=e.data.data:t.collection=e.data.data:(t.collection="",uni.showToast({title:e.data.message,duration:1500,icon:"none"}))}})},changeNav:function(t,e){var i=this;i.navActive=t,i.navType=e,i._axios()},_checkedOne:function(t,e){var i=this;if(Array.prototype.indexf=function(t){for(var e=0;e<this.length;e++)if(this[e].id==t.id)return e;return-1},Array.prototype.remove=function(t){var e=this.indexf(t);e>-1&&this.splice(e,1)},1==i.navType){var a=i.selectArray1.indexf(t);if(i.statevalue){i.$refs.img;a<0?(i.selectArray1.push(t),i.$set(i.display_img1,e,!0)):(i.selectArray1.remove(t),i.$set(i.display_img1,e,!1)),i.selectArray1.length==i.collection1.length?i.selectAll1=!0:i.selectAll1=!1}}else{a=i.selectArray.indexf(t);if(i.statevalue){i.$refs.img;a<0?(i.selectArray.push(t),i.$set(i.display_img,e,!0)):(i.selectArray.remove(t),i.$set(i.display_img,e,!1)),i.selectArray.length==i.collection.length?i.selectAll=!0:i.selectAll=!1}}},_selectHandle:function(t){var e=this;t.selectAll1=!t.selectAll1;e.$refs.img;if(t.selectAll1)for(var i=0;i<t.collection1.length;i++)e.$set(t.selectArray1,i,t.collection1[i]),e.$set(t.display_img1,i,!0);else{t.selectArray1=[];for(i=0;i<t.collection1.length;i++)e.$set(t.display_img1,i,!1)}return t},_selectAll:function(){var t=this;if(1==this.navType){var e={selectAll1:t.selectAll1,display_img1:t.display_img1,selectArray1:t.selectArray1,collection1:t.collection1};e=this._selectHandle(e),t.selectAll1=e.selectAll1}else{e={selectAll1:t.selectAll,display_img1:t.display_img,selectArray1:t.selectArray,collection1:t.collection};e=this._selectHandle(e),t.selectAll=e.selectAll1}},_delete:function(){var t=this;if(this.fastTap)if(this.fastTap=!1,this.selectArray1.length||this.selectArray.length){t.deletecolle.collection="",t.deletecolle.access_id=t.access_id,1==t.navType?this.selectArray1.forEach(function(e,i){t.deletecolle.collection+=e.id+","}):this.selectArray.forEach(function(e,i){t.deletecolle.collection+=e.id+","});var e=t.deletecolle;uni.request({data:e,url:uni.getStorageSync("url")+"&module=app&action=addFavorites&app=removeFavorites",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){t.fastTap=!0;var i=[],a=[];if(200==e.data.code){t.collection=[],t.collection1=[];var n=t.deletecolle.collection;for(var l in n)1==t.navType?(t.selectArray1.forEach(function(t,e){n[l]!=t.id&&i.push(t)}),t.selectArray1=i):(t.selectArray.forEach(function(t,e){n[l]!=t.id&&a.push(t)}),t.selectArray=a);t.display_img1=[];for(var o=0;o<t.collection1.length;o++)t.display_img1.push(!1);t.display_img=[];for(o=0;o<t.collection.length;o++)t.display_img.push(!1);t._axios(),t.statevalue=!t.statevalue,t.state="编辑"}else uni.showToast({title:e.data.message,duration:1500,icon:"none"});for(o=0;o<t.display_img.length;o++)t.$set(t.display_img1,o,!1)},error:function(){t.fastTap=!0}})}else this.fastTap=!0,uni.showToast({title:"请选择需要删除的商品！",duration:1e3,icon:"none"})},_goods:function(t){this.pro_id(t),uni.navigateTo({url:"../goods/goodsDetailed"})}},(0,c.mapMutations)({pro_id:"SET_PRO_ID"})),components:{}};e.default=d},"674b":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("lktauthorize",{ref:"lktAuthorizeComp",on:{pChangeLoginStatus:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLoginStatus.apply(void 0,arguments)}}}),i("div",{staticClass:"data_h",style:{height:t.halfWidth}},[i("div",{staticClass:"data_h_h",style:{height:t.halfWidth}})]),i("div",{staticClass:"navtion",style:{top:t.halfWidth}},[i("div",[i("div",{staticClass:"header"},[i("img",{attrs:{src:t.back},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._back.apply(void 0,arguments)}}}),i("v-uni-view",[t._v("我的收藏")]),t.collection1.length&&1==t.navType?i("p",{class:{active:!t.collection1.length},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._state.apply(void 0,arguments)}}},[t._v(t._s(t.state))]):t.collection.length&&2==t.navType?i("p",{class:{active:!t.collection.length},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._state.apply(void 0,arguments)}}},[t._v(t._s(t.state))]):i("p")],1)])]),i("v-uni-view",{staticClass:"twins"},[i("v-uni-view",{staticClass:"nav_twin",class:{nav_twin_hover:t.navActive},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeNav(!0,1)}}},[t._v("商品收藏"),1==t.navActive?i("v-uni-view",{staticClass:"nav_line"}):t._e()],1),i("v-uni-view",{staticClass:"nav_twin",class:{nav_twin_hover:!t.navActive},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeNav(!1,2)}}},[t._v("店铺收藏"),0==t.navActive?i("v-uni-view",{staticClass:"nav_line"}):t._e()],1)],1),1==t.navActive?i("v-uni-view",{staticStyle:{flex:"1",overflow:"scroll"}},[t.collection1.length?i("ul",t._l(t.collection1,function(e,a){return i("li",{key:e.p_id,staticClass:"list_li"},[t.statevalue?i("div",{staticClass:"list_imgBox",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._checkedOne(e,a)}}},[i("img",{staticClass:"quan_img list_img",attrs:{src:t.display_img1[a]?t.quan_hei:t.quan_hui}})]):t._e(),i("img",{attrs:{src:e.imgurl},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._goods(e.p_id)}}}),i("v-uni-view",{class:t.statevalue?"sc_right_X":"sc_right_Y",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._goods(e.p_id)}}},[i("div",{staticClass:"describe",class:{left:t.statevalue}},[i("span",[t._v(t._s(e.product_title))])]),i("v-uni-view",{staticClass:"dp_css"},[t._v("店铺："+t._s(e.mch_name))]),i("div",{staticClass:"collection_button"},[i("span",{staticClass:"span_b1"},[t._v("￥"+t._s(e.price))]),i("span",{staticClass:"span_b2"},[t._v("￥"+t._s(e.yprice))]),i("div",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t._find(e.p_id)}}},[i("span",[t._v("看相似")])])])],1)],1)}),0):i("div",{staticClass:"noFindDiv"},[i("div",[i("img",{staticClass:"noFindImg",attrs:{src:t.noCol}})]),i("span",{staticClass:"noFindText"},[t._v("您还没有收藏的商品哦！")])])]):i("v-uni-view",{},[t.collection.length?i("ul",t._l(t.collection,function(e,a){return i("li",{key:a,staticClass:"list_li",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._goStore(e)}}},[t.statevalue?i("div",{staticClass:"list_imgBox",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t._checkedOne(e,a)}}},[i("img",{staticClass:"quan_img list_img1",attrs:{src:t.display_img[a]?t.quan_hei:t.quan_hui}})]):t._e(),i("img",{staticClass:"dp_img",attrs:{src:e.img}}),i("v-uni-view",{staticClass:"dp_con"},[i("v-uni-view",{staticClass:"dp_con1"},[t._v(t._s(e.mch_name))]),i("v-uni-view",{staticClass:"dp_con2"},[t._v(t._s(e.collection_num)+"人收藏")])],1),i("v-uni-image",{staticClass:"dp_right",attrs:{src:t.toImage}})],1)}),0):i("div",{staticClass:"noFindDiv"},[i("div",[i("img",{staticClass:"noFindImg",attrs:{src:t.noCol}})]),i("span",{staticClass:"noFindText"},[t._v("您还没有收藏的店铺哦！")])])]),t.statevalue&&1==t.navType?i("div",{staticClass:"del"},[i("div",{staticClass:"del_sele",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._selectAll.apply(void 0,arguments)}}},[i("img",{staticClass:"quan_img",attrs:{src:t.selectAll1?t.quan_hei:t.quan_hui}}),i("span",[t._v("全选")])]),i("div",{staticClass:"del_div",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._delete.apply(void 0,arguments)}}},[t._v("取消收藏")])]):t.statevalue?i("div",{staticClass:"del"},[i("div",{staticClass:"del_sele",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._selectAll.apply(void 0,arguments)}}},[i("img",{staticClass:"quan_img",attrs:{src:t.selectAll?t.quan_hei:t.quan_hui}}),i("span",[t._v("全选")])]),i("div",{staticClass:"del_div",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._delete.apply(void 0,arguments)}}},[t._v("取消收藏")])]):t._e()],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"7e33":function(t,e,i){"use strict";i.r(e);var a=i("674b"),n=i("997f");for(var l in n)"default"!==l&&function(t){i.d(e,t,function(){return n[t]})}(l);i("5e19");var o=i("2877"),s=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"239ae064",null);e["default"]=s.exports},"997f":function(t,e,i){"use strict";i.r(e);var a=i("60a7"),n=i.n(a);for(var l in a)"default"!==l&&function(t){i.d(e,t,function(){return a[t]})}(l);e["default"]=n.a},aef5:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".box[data-v-239ae064]{\r\n\t\t/* min-height: 100vh; */display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:100vh;overflow:hidden}.header[data-v-239ae064]{background-color:#fff;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?30?%}.header uni-view[data-v-239ae064]{font-size:%?32?%}.header img[data-v-239ae064]{width:%?24?%;height:%?36?%}.header p[data-v-239ae064]{font-size:%?40?%;color:#020202}.header p[data-v-239ae064]:last-child{font-size:%?28?%;font-weight:100}.header .occupation[data-v-239ae064]{\r\n\t\t/* flex: 1; */}.manege[data-v-239ae064]{width:%?120?%;height:%?70?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?30?%;color:#020202;margin-left:auto}.del[data-v-239ae064],ul[data-v-239ae064]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.del[data-v-239ae064],.del_sele[data-v-239ae064]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.del[data-v-239ae064]{height:%?98?%;width:100%;font-size:%?30?%;color:#242424;border-top:1px solid #eee;position:fixed;left:0;bottom:0;z-index:20;background-color:#fff;padding-left:%?30?%}.del_div[data-v-239ae064]{width:%?240?%;background-color:#242424;height:100%;color:#fff;line-height:%?98?%;text-align:center;margin-left:%?30?%}.del span[data-v-239ae064]{margin-left:%?0?%}.del>p[data-v-239ae064]{color:#e83737}ul[data-v-239ae064]{padding:%?30?% %?20?% 0 %?20?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;flex-flow:row wrap;font-size:%?30?%}li[data-v-239ae064]{width:100%;border-radius:%?10?%;margin-bottom:%?2?%;background-color:#fff;padding-bottom:%?20?%}.list_li[data-v-239ae064]{display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?20?%;border-radius:%?0?%;border-bottom:%?1?% solid #eee}.list_imgBox[data-v-239ae064]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list_img[data-v-239ae064],.list_img1[data-v-239ae064]{width:%?34?%;height:%?34?%}li>img[data-v-239ae064]{width:%?200?%;height:%?200?%;\r\n\t\t/* border-top-left-radius: 10upx;\r\n\t\tborder-top-right-radius: 10upx; */vertical-align:middle;float:left}.describe[data-v-239ae064]{color:#020202;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.collection_button .span_b1[data-v-239ae064]{color:#e83737}.collection_button .span_b2[data-v-239ae064]{color:#999;text-decoration:line-through;font-size:%?24?%;display:inline-block;margin-left:%?10?%}.collection_button div[data-v-239ae064]{width:%?100?%;height:%?44?%;font-size:%?24?%;font-family:PingFang-SC-Medium;font-weight:500;border:1px solid #ddd;text-align:center;line-height:%?40?%;border-radius:%?22?%;float:right}.collection_button>div>span[data-v-239ae064]{font-size:%?24?%;color:#020202}.collection_button>div>img[data-v-239ae064]{vertical-align:inherit;width:%?8?%;height:%?14?%}.left[data-v-239ae064]{position:relative}.del i[data-v-239ae064],.describe i[data-v-239ae064]{width:%?30?%;height:%?30?%;border:%?1?% solid #999;border-radius:50%}.describe i[data-v-239ae064]{display:block;position:absolute;left:0;top:%?8?%}.del i>img[data-v-239ae064],.describe i>img[data-v-239ae064]{vertical-align:top;width:%?28?%;height:%?28?%}.describe i>img[data-v-239ae064]{display:none}.active[data-v-239ae064]{opacity:.8}.quan_img[data-v-239ae064]{vertical-align:middle;margin-right:%?10?%;padding:%?10?%;width:%?34?%!important;height:%?34?%!important}.none1[data-v-239ae064]{text-align:center;padding-top:45%}.none1 img[data-v-239ae064]{width:%?160?%;height:%?160?%;display:block;margin:0 auto;margin-bottom:%?30?%}.sc_right_X[data-v-239ae064]{width:%?401?%;float:left;margin-left:%?30?%}.sc_right_Y[data-v-239ae064]{width:%?458?%;float:left;margin-left:%?30?%}.dp_css[data-v-239ae064]{font-size:%?24?%;font-family:PingFang-SC-Medium;font-weight:500;color:#999;margin-top:%?24?%;margin-bottom:%?32?%}.noFindDiv[data-v-239ae064]{padding-top:%?240?%!important}.nav_twin[data-v-239ae064]{font-size:%?30?%;font-family:PingFang-SC-Medium;color:#999;width:50%;text-align:center;float:left;height:%?90?%;line-height:%?90?%;position:relative}.twins[data-v-239ae064]{width:100%;height:%?90?%;background:#fff;border-top:1px solid #eee;border-bottom:1px solid #eee}.nav_twin_hover[data-v-239ae064]{font-size:%?30?%;font-family:PingFang-SC-Bold;font-weight:700;color:#242424}.nav_line[data-v-239ae064]{position:absolute;bottom:%?0?%;left:29.9%;width:%?150?%;height:%?6?%;background:#242424;display:block}.dp_img[data-v-239ae064]{width:%?80?%!important;height:%?80?%!important;float:left}.dp_con[data-v-239ae064]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?20?%;margin-right:%?30?%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dp_con1[data-v-239ae064]{font-size:%?28?%;font-family:PingFang-SC-Medium;font-weight:500;color:#020202}.dp_con2[data-v-239ae064]{font-size:%?22?%;font-family:PingFang-SC-Medium;font-weight:500;color:#999}.dp_right[data-v-239ae064]{width:%?16?%;height:%?28?%;float:right;margin-top:%?30?%}.status_p[data-v-239ae064]{position:relative;z-index:9999;height:%?80?%;\r\n\t\t/* width:100%; */display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-right:%?30?%;font-size:%?28?%;color:#020202;background:#f8f8f8}.data_h_h[data-v-239ae064]{position:fixed;top:0;width:100%;background:#fff}.navtion[data-v-239ae064]{z-index:100;width:100%}.navtion>div[data-v-239ae064]{height:%?88?%}.bg_F6[data-v-239ae064]{background:#f6f6f6}",""])}}]);